{"version":3,"file":"VisualModelServiceImpl.js","sourceRoot":"","sources":["../../../../../src/ApiShared/Services/impl/VisualModelServiceImpl.ts"],"names":[],"mappings":"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","sourcesContent":["import * as Contract from '@tableau/api-external-contract-js';\nimport { ExecuteParameters, ParameterId, VerbId, VisualId, VisualSpecification } from '@tableau/api-internal-contract-js';\nimport { ServiceNames } from '../ServiceRegistry';\nimport { VisualModelService } from '../VisualModelService';\nimport { ServiceImplBase } from './ServiceImplBase';\n\nexport class VisualModelServiceImpl extends ServiceImplBase implements VisualModelService {\n  public get serviceName(): string {\n    return ServiceNames.VisualModel;\n  }\n\n  public getVisualSpecificationAsync(visualId: VisualId): Promise<Contract.VisualSpecification> {\n    const parameters: ExecuteParameters = {\n      [ParameterId.FunctionName]: 'getVisualSpecificationAsync',\n      [ParameterId.WorksheetName]: visualId.worksheet,\n    };\n\n    return this.execute(VerbId.GetVisualSpecification, parameters).then<Contract.VisualSpecification>((response) => {\n      const result = response.result as VisualSpecification;\n      return result;\n    });\n  }\n\n  public addMarksCardFieldsAsync(\n    visualId: VisualId,\n    marksCardIndex: number,\n    encodingType: Contract.EncodingType,\n    columns: Array<Contract.Column>,\n    startIndex: number,\n  ): Promise<void> {\n    const parameters: ExecuteParameters = {\n      [ParameterId.FunctionName]: 'addMarksCardFieldsAsync',\n      [ParameterId.WorksheetName]: visualId.worksheet,\n      [ParameterId.MarksCardIndex]: marksCardIndex,\n      [ParameterId.EncodingType]: encodingType,\n      [ParameterId.Columns]: columns,\n      [ParameterId.StartIndex]: startIndex,\n    };\n    return this.execute(VerbId.AddMarksCardFields, parameters).then(() => {\n      return;\n    });\n  }\n\n  public moveMarksCardFieldAsync(\n    visualId: VisualId,\n    marksCardIndex: number,\n    fromIndex: number,\n    toIndex: number,\n    fieldCount = 1,\n  ): Promise<void> {\n    const parameters: ExecuteParameters = {\n      [ParameterId.FunctionName]: 'addMarksCardFieldsAsync',\n      [ParameterId.WorksheetName]: visualId.worksheet,\n      [ParameterId.MarksCardIndex]: marksCardIndex,\n      [ParameterId.FromIndex]: fromIndex,\n      [ParameterId.ToIndex]: toIndex,\n      [ParameterId.FieldCount]: fieldCount,\n    };\n    return this.execute(VerbId.MoveMarksCardField, parameters).then(() => {\n      return;\n    });\n  }\n\n  public spliceMarksCardFieldsAsync(\n    visualId: VisualId,\n    marksCardIndex: number,\n    encodingType: Contract.EncodingType,\n    startIndex: number,\n    deleteCount: number,\n    columns: Array<Contract.Column>,\n  ): Promise<void> {\n    const parameters: ExecuteParameters = {\n      [ParameterId.FunctionName]: 'spliceMarksCardFieldsAsync',\n      [ParameterId.WorksheetName]: visualId.worksheet,\n      [ParameterId.MarksCardIndex]: marksCardIndex,\n      [ParameterId.EncodingType]: encodingType,\n      [ParameterId.StartIndex]: startIndex,\n      [ParameterId.DeleteCount]: deleteCount,\n      [ParameterId.Columns]: columns,\n    };\n    return this.execute(VerbId.SpliceMarksCardFields, parameters).then(() => {\n      return;\n    });\n  }\n\n  editAliasesDialogAsync(fieldName: string): Promise<void> {\n    const parameters: ExecuteParameters = {\n      [ParameterId.FunctionName]: 'editAliasesDialogAsync',\n      [ParameterId.FieldId]: fieldName,\n    };\n    return this.execute(VerbId.EditAliasesDialog, parameters).then(() => {\n      return;\n    });\n  }\n}\n"]}